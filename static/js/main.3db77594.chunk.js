(window["webpackJsonppres-test"]=window["webpackJsonppres-test"]||[]).push([[0],{50:function(e,t,n){e.exports=n(79)},55:function(e,t,n){},56:function(e,t,n){},60:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(27),i=n.n(l),o=(n(55),n(56),n(57),n(20)),s=n(17),c=n(5),u=n(6),p=n(8),d=n(7),m=n(9),h=n(42),f=(n(60),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={files:[]},n.handleDrop=function(e,t){var a=Array.from(e).map((function(e){return e.name}));n.setState({files:a},(function(){console.log(n.state)})),n.props.filesDropped(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Drag your slide images here"),r.a.createElement("div",{id:"react-file-drop-demo"},r.a.createElement(h.a,{onDrop:this.handleDrop},"Drag your slide GIF's here!"),r.a.createElement("div",{style:g},this.state.files.map((function(e){return r.a.createElement("p",{style:v,key:e},e)})))))}}]),t}(a.Component)),v={background:"lightgray",marginBotom:"0 !important",marginTop:10},g={maxHeight:100,overflow:"scroll"},b=n(24);var y=n(82),E=n(81),O=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={presName:"",numSlides:0,powerpointOnlineLink:"",presImageFiles:[],progressBarValue:0,presInfoUploaded:!1},n.input="",n.numSlidesInput=0,n.powerpointOnlineLinkInput="",n.uploadSlideImages=function(){n.state.presImageFiles.forEach((function(e){var t,a;(t=e,a=n.state.presName,b.storage().ref().child("".concat(a,"/")+t.name).put(t)).on("state_changed",(function(e){console.log("state changed");var t=e.bytesTransferred/e.totalBytes*100/n.state.numSlides,a=Object.assign({},n.state);a.progressBarValue=n.state.progressBarValue+t,n.setState(a),n.state.progressBarValue>100&&n.state.presInfoUploaded&&(document.getElementById("alert").style.display="block"),console.log(n.state.progressBarValue)}),(function(e){console.log("could not upload files")}))}))},n.uploadPresentationDetails=function(){var e={presName:n.state.presName,numSlides:n.state.numSlides,powerPointLink:n.state.powerpointOnlineLink};console.log(e),function(e){var t=e.presName,n=e.numSlides,a=e.powerPointLink;return b.firestore().collection("presentations").add({name:t,numSlides:n,link:a})}(e).then((function(){console.log("Presentation Details Uploaded");var e=Object.assign({},n.state);e.presInfoUploaded=!0,n.setState(e),n.state.progressBarValue>100&&n.state.presInfoUploaded&&(document.getElementById("alert").style.display="block")}))},n.handleSubmit=function(e){e.preventDefault(),""!==n.input.value&&0!==n.numSlidesInput.value&&""!==n.powerpointOnlineLinkInput.value?(console.log("Form has been submitted"),n.setState({presName:n.input.value,numSlides:n.numSlidesInput.value,powerpointOnlineLink:n.powerpointOnlineLinkInput.value},(function(){n.uploadSlideImages(),n.uploadPresentationDetails()}))):console.log("We must block this")},n.filesDropped=function(e){var t=Array.from(e);n.setState({presName:n.state.presName,presImageFiles:t})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:k,id:"main"},r.a.createElement(y.a,{id:"alert",variant:"info",style:w},"Presentation Uploaded"),r.a.createElement("h2",null,"Upload a new presentation"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,"Presentation Name:"),r.a.createElement("input",{type:"text",ref:function(t){return e.input=t},style:S}),r.a.createElement("p",null,"Number of slides:"),r.a.createElement("input",{type:"number",ref:function(t){return e.numSlidesInput=t},style:S}),r.a.createElement("p",null,"Link to Powerpoint Online"),r.a.createElement("input",{type:"text",ref:function(t){return e.powerpointOnlineLinkInput=t},style:S}),r.a.createElement("div",{style:j},r.a.createElement(f,{filesDropped:this.filesDropped})),r.a.createElement(E.a,{animated:!0,now:this.state.progressBarValue,label:"".concat(parseInt(this.state.progressBarValue),"%")}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component),S={width:"100%",padding:"10 20"},j={width:"100%",marginTop:10},k={padding:"0 100px"},w={display:"none"},I=n(22),x=n(83),C=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:this.props.imageSource,alt:"Slide",height:"490",width:"653"}))}}]),t}(a.Component),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:0},n.handleOnSelect=function(e){n.setState({activeIndex:e},(function(){n.props.handleControlClick(e)}))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({activeIndex:this.props.activeIndex})}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.activeIndex!==t.activeIndex&&this.setState({activeIndex:this.props.activeIndex})}},{key:"render",value:function(){return r.a.createElement(x.a,{style:B,indicators:!1,interval:null,activeIndex:this.state.activeIndex,onSelect:this.handleOnSelect},this.props.slideSources.map((function(e){return r.a.createElement(x.a.Item,{key:e.key},r.a.createElement(C,{imageSource:e.value}))})))}}]),t}(a.Component),B={padding:"0px 30px",height:"85%"},A=n(28),N=n(10),L=n.n(N),P=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(){n.props.handleClick(n.props.imageSource)},n.handleClick.bind(Object(A.a)(n)),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{onClick:this.handleClick,src:this.props.imageSource,alt:"Slide",height:"90",width:"120"}))}}]),t}(a.Component);C.propTypes={imageSource:L.a.string,handleClick:L.a.func};var T=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleThumbnailClick=function(e){n.props.onThumbnailClick(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:U},this.props.slideSources.map((function(t){return r.a.createElement("div",{style:V},r.a.createElement(P,{key:t.key,imageSource:t.value,handleClick:e.handleThumbnailClick}))})))}}]),t}(a.Component),V={backgroundColor:"darkgray",padding:"10px 10px",textAlign:"center"},U={height:"80vh",overflow:"scroll"},F=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeSlideIndex:0},n.handleThumbnailClick=function(e){var t=n.props.slideSources.map((function(e){return e.value})).indexOf(e);console.log(t),n.setState({activeSlideIndex:t})},n.handleControlClick=function(e){n.setState({activeSlideIndex:e})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:W},r.a.createElement("div",{style:H},r.a.createElement("h1",null,this.props.presentationName),r.a.createElement("div",{style:z}),r.a.createElement("p",{style:R},r.a.createElement("strong",null,"Current Slide:")," ",this.state.activeSlideIndex+1)),r.a.createElement("div",{style:M},r.a.createElement(T,{slideSources:this.props.slideSources,onThumbnailClick:this.handleThumbnailClick}),r.a.createElement("div",{className:"container",style:G},r.a.createElement(D,{slideSources:this.props.slideSources,activeIndex:this.state.activeSlideIndex,handleControlClick:this.handleControlClick}))))}}]),t}(a.Component),G={backgroundColor:"lightgray",padding:"40px 30px",textAlign:"center"},M={display:"grid",gridTemplateColumns:"15% 80%"},W={height:"90vh",overflow:"hidden"},H={display:"flex"},z={flexGrow:1},R={marginRight:"100px"},Z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!1,slideSources:[]},n.downlaodCount=0,n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){for(var e,t,n=this,a=this.props.match.params,r=a.name,l=a.count,i=1;i<=l;i++)(e=i,t=r,b.storage().ref().child("".concat(t)).child("Slide".concat(e,".GIF")).getDownloadURL()).then((function(e){if(n.downlaodCount++,n.downlaodCount===+l){var t=[].concat(Object(I.a)(n.state.slideSources),[{key:e,value:e}]);t.sort((function(e,t){return e.value.length===t.value.length?e.value<t.value?-1:1:e.value.length<t.value.length?-1:1})),console.log(t),n.setState({loaded:!0,slideSources:t})}else n.setState({loaded:!1,slideSources:[].concat(Object(I.a)(n.state.slideSources),[{key:e,value:e}])})}))}},{key:"render",value:function(){return this.state.loaded?r.a.createElement("div",null,r.a.createElement(F,{presentationName:this.props.match.params.name,slideSources:this.state.slideSources})):r.a.createElement("div",null,r.a.createElement("h4",null,"Loading"))}}]),t}(a.Component),J=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e="pres/".concat(this.props.pres.name,"/").concat(this.props.pres.numSlides);return r.a.createElement("div",{style:_},r.a.createElement("div",null,r.a.createElement("p",{style:q},this.props.pres.name),r.a.createElement("p",null,"Number of Slides: ",this.props.pres.numSlides)),r.a.createElement("div",{style:Q}),r.a.createElement(o.b,{to:e},r.a.createElement("button",{style:K},"View")))}}]),t}(a.Component),_={padding:"10px 20px",backgroundColor:"lightgray",marginBottom:5,display:"flex"},q={fontSize:"14pt",fontWeight:600},K={width:100,height:"100%",border:"none"},Q={flexGrow:1},X=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.presentations.forEach((function(e){console.log(e)})),console.log(this.props.presentations.length)}},{key:"render",value:function(){return console.log(this.props.presentations.length),r.a.createElement("div",null,r.a.createElement("h4",null,"Presentations"),this.props.presentations.map((function(e){return r.a.createElement(J,{pres:e,key:e.name})})))}}]),t}(a.Component),Y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={presentationDetails:[],loading:!0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.firestore().collection("presentations").get().then((function(t){t.docs.forEach((function(t){e.setState({presentationDetails:[].concat(Object(I.a)(e.state.presentationDetails),[t.data()])})})),e.setState({loading:!1})}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement("h1",null,"Loading"):r.a.createElement("div",null,r.a.createElement(X,{presentations:this.state.presentationDetails}))}}]),t}(a.Component),$=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:ee},r.a.createElement("h4",{style:te},"Presentation Viewer"),r.a.createElement("div",{style:ne}),r.a.createElement(o.b,{to:"/"},r.a.createElement("button",{style:ae},"Home")),r.a.createElement(o.b,{to:"/presentation/upload"},r.a.createElement("button",{style:ae},"Add Presentation")))}}]),t}(a.Component),ee={height:"35px",backgroundColor:"lightgray",display:"flex"},te={marginLeft:"10px"},ne={flexGrow:1},ae={height:"100%",border:"none"};var re=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{exact:!0,path:"/pres/:name/:count",component:Z}),r.a.createElement(s.a,{exact:!0,path:"/presentation/upload"},r.a.createElement(O,null)),r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(Y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=n(48);console.log("In index"),le.initializeApp({apiKey:"AIzaSyBVfZqEIHf0_Z8iit9HC18Oi85odEWENYA",authDomain:"pres-demo.firebaseapp.com",databaseURL:"https://pres-demo.firebaseio.com",projectId:"pres-demo",storageBucket:"pres-demo.appspot.com",messagingSenderId:"31490714950",appId:"1:31490714950:web:72fcee3ba4ff4517a2c947",measurementId:"G-1TBQ4ZPXM1"}),i.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[50,1,2]]]);
//# sourceMappingURL=main.3db77594.chunk.js.map